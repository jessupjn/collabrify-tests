<html>
  <head>
    <title>CHANNEL-API</title>
  </head>
  <body bgcolor="#E6E6FA">
    <script type="text/javascript" src="https://talkgadget.google.com/talkgadget/channel.js"></script>
    <script language="javascript">
      var channel;
      var socket;
      function closeConnection() { if (socket) { socket.close() } }
      function connectToServer(a) { channel = new goog.appengine.Channel(a); socket = channel.open(); socket.onopen = onOpen; socket.onmessage = onMessage; socket.onerror = onError; socket.onClose = onClose }
      function onError(a) { window.external.notify("errors::" + a.code + a.description) }
      function onMessage(a) { window.external.notify("message:" + a.data) }
      function onClose() { window.external.notify("onClose:") }
      function onOpen() { window.external.notify("onOpen::") }
      window.onload = function () { window.external.notify("onLoad::") }
      function test() { control.test() }
    </script>
    hi
  </body>
</html>
